#include<iostream>
using namespace std;
#include<stack>

bool arebalanced(string a)
{
	stack<char> s;
	char x;
	
	for(int i=0;i<a.length();i++)
	{
		if(a[i]=='{' || a[i]=='[' || a[i]=='(')
		{
			s.push(a[i]);
			continue;
		}
		
		if(s.empty())
			return false;
		switch(a[i])
		{
			case '}':	x=s.top();
						s.pop();
						if(x=='[' || x=='(')
							return false;
						break;
			case ']':	x=s.top();
						s.pop();
						if(x=='(' || x=='{')
							return false;
						break;
			case ')':	x=s.top();
						s.pop();
						if(x=='{' || x=='[')
							return false;
						break;									
		}	
	}
	return(s.empty());
}


int main()
{
	string a;
	getline(cin,a);
	if(arebalanced(a))	
		cout<<"balanced";
	else
		cout<<"not balanced";
	return 0;			
}

